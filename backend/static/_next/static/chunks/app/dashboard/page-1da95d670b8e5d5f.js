(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1243:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},25487:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},30966:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(95155),r=t(12115),l=t(88482),i=t(88145),n=t(97168),c=t(49026),d=t(31886),o=t(76052),h=t(6874),x=t.n(h),u=t(84616),m=t(33786),j=t(40646),g=t(25487),f=t(1243),p=t(33109);function v(){var e;let[s,t]=(0,r.useState)([]),[h,v]=(0,r.useState)([]),[N,b]=(0,r.useState)(!0),[y,w]=(0,r.useState)(""),{user:A}=(0,o.A)(),k=null==A||null==(e=A.organizations)?void 0:e[0];(0,r.useEffect)(()=>{A&&S()},[A]);let S=async()=>{try{b(!0),console.log("Loading dashboard data for user:",null==A?void 0:A.email),console.log("Token available:",!!localStorage.getItem("access_token"));let[e,s]=await Promise.all([d.XU.getAll(),d.Ev.getAll()]);console.log("Dashboard data loaded successfully:",{services:e.length,incidents:s.length}),t(e),v(s),w("")}catch(t){var e,s,a,r;w((null==(s=t.response)||null==(e=s.data)?void 0:e.detail)||t.message||"Failed to load dashboard data"),console.error("Dashboard error details:",{message:t.message,status:null==(a=t.response)?void 0:a.status,data:null==(r=t.response)?void 0:r.data,user:null==A?void 0:A.email,tokenAvailable:!!localStorage.getItem("access_token")})}finally{b(!1)}};if(N)return(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});let _=s.filter(e=>"operational"===e.status).length,Z=s.length,M=h.filter(e=>"resolved"!==e.status).length,C=Z>0&&_===Z?"All Systems Operational":"Some Issues Detected";return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Monitor your services and manage incidents"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)(n.$,{asChild:!0,children:(0,a.jsxs)(x(),{href:"/dashboard/services",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Add Service"]})}),(0,a.jsx)(n.$,{variant:"outline",asChild:!0,children:(0,a.jsxs)(x(),{href:k?"/status/".concat(k.slug):"/status",target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"View Public Status"]})})]})]}),y&&(0,a.jsx)(c.Fc,{variant:"destructive",children:(0,a.jsx)(c.TN,{children:y})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Overall Status"}),(0,a.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:C}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[_," of ",Z," services operational"]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Total Services"}),(0,a.jsx)(g.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:Z}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active services being monitored"})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Active Incidents"}),(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:M}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ongoing incidents requiring attention"})]})]}),(0,a.jsx)(l.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow",children:(0,a.jsxs)(x(),{href:"/dashboard/metrics",children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Uptime"}),(0,a.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"99.9%"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last 30 days average â€¢ Click for details"})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Services Status"}),(0,a.jsx)(x(),{href:"/dashboard/services",children:(0,a.jsx)(n.$,{variant:"outline",size:"sm",children:"View All"})})]}),(0,a.jsx)(l.BT,{children:"Current status of all your services"})]}),(0,a.jsx)(l.Wu,{className:"space-y-4",children:0===s.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)(g.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"No services configured yet"}),(0,a.jsx)(n.$,{asChild:!0,className:"mt-4",children:(0,a.jsx)(x(),{href:"/dashboard/services",children:"Add Your First Service"})})]}):s.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(function(e){switch(e){case"operational":return"bg-green-500";case"degraded_performance":return"bg-yellow-500";case"partial_outage":return"bg-orange-500";case"major_outage":return"bg-red-500";case"maintenance":return"bg-blue-500";default:return"bg-gray-500"}}(e.status))}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})]}),(0,a.jsx)(i.E,{variant:"operational"===e.status?"default":"destructive",children:function(e){switch(e){case"operational":return"Operational";case"degraded_performance":return"Degraded Performance";case"partial_outage":return"Partial Outage";case"major_outage":return"Major Outage";case"maintenance":return"Maintenance";default:return e}}(e.status)})]},e.id))})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Recent Incidents"}),(0,a.jsx)(x(),{href:"/dashboard/incidents",children:(0,a.jsx)(n.$,{variant:"outline",size:"sm",children:"View All"})})]}),(0,a.jsx)(l.BT,{children:"Latest incidents and their status"})]}),(0,a.jsx)(l.Wu,{className:"space-y-4",children:0===h.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)(j.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"No incidents reported"}),(0,a.jsx)("p",{className:"text-sm",children:"All systems are running smoothly"})]}):h.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(function(e){switch(e){case"investigating":return"bg-yellow-500";case"identified":return"bg-orange-500";case"monitoring":return"bg-blue-500";case"resolved":return"bg-green-500";default:return"bg-gray-500"}}(e.status))}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.affected_services.length," service(s) affected"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)(i.E,{variant:"resolved"===e.status?"default":"destructive",children:e.status}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(e.created_at).toLocaleDateString()})]})]},e.id))})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"Quick Actions"}),(0,a.jsx)(l.BT,{children:"Common tasks to manage your status page"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(n.$,{asChild:!0,variant:"outline",className:"h-20 flex-col",children:(0,a.jsxs)(x(),{href:"/dashboard/services",children:[(0,a.jsx)(g.A,{className:"h-6 w-6 mb-2"}),"Manage Services"]})}),(0,a.jsx)(n.$,{asChild:!0,variant:"outline",className:"h-20 flex-col",children:(0,a.jsxs)(x(),{href:"/dashboard/incidents",children:[(0,a.jsx)(f.A,{className:"h-6 w-6 mb-2"}),"Report Incident"]})}),(0,a.jsx)(n.$,{asChild:!0,variant:"outline",className:"h-20 flex-col",children:(0,a.jsxs)(x(),{href:k?"/status/".concat(k.slug):"/status",target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(m.A,{className:"h-6 w-6 mb-2"}),"View Public Status"]})})]})})]})]})}},33109:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},33786:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},33862:(e,s,t)=>{Promise.resolve().then(t.bind(t,30966))},40646:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},84616:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},e=>{e.O(0,[464,671,455,874,559,441,964,358],()=>e(e.s=33862)),_N_E=e.O()}]);